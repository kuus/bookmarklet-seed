javascript:!function(e,t){function i(i,o){if("undefined"==typeof e.jQuery){var n=function(){e.jQuery?(r=e.jQuery,o()):e.setTimeout(function(){n()},100)},s=t.createElement("script");s.type="text/javascript",s.readyState?s.onreadystatechange=function(){("loaded"==s.readyState||"complete"==s.readyState)&&(s.onreadystatechange=null,n())}:s.onload=function(){n()},s.src=i,t.getElementsByTagName("head")[0].appendChild(s)}else r=e.jQuery,o()}function o(e,t){for(var i=0,o=e.length,n=function(){i++,i===o&&t()},s=0;o>s;s++)r.getScript(e[s],n)}function n(e){for(var i=t.getElementsByTagName("head")[0],o=0,n=e.length;n>o;o++){var s=t.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=e[o],i.appendChild(s)}}function s(e){var i=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o)}function a(e){var t=this.scrollTop,i=this.scrollHeight,o=this.offsetHeight,n=e.originalEvent.wheelDelta,s=n>0,a=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return!s&&-n>i-o-t?(this.scrollTop=i,a()):s&&n>t?(this.scrollTop=0,a()):void 0}var r,l,d,c,p,u,m,h,k,g="kuusbkmrkletsd",b=350,f={jquery:{min:">1.8",desired:"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"},js:["//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js","//rawgit.com/polomoshnov/jQuery-UI-Resizable-Snap-extension/master/jquery.ui.resizable.snap.ext.v1.9.min.js"],css:["//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css"]},y=g,x=g+"-cage",v=g+"-wrapper",w=g+"-iframe-app",z=g+"-iframe-overlay",j=g+"-header",T=g+"-title",S=g+"-control-close",E=g+"-control-toggle",B='<div id="kuusbkmrkletsd-cage"></div><div id="kuusbkmrkletsd-wrapper" class="kuusbkmrkletsd-cover"><div id="kuusbkmrkletsd-header"><div id="kuusbkmrkletsd-controls"><span id="kuusbkmrkletsd-control-close" class="kuusbkmrkletsd-control">&times;</span> <span id="kuusbkmrkletsd-control-toggle" class="kuusbkmrkletsd-control-toggle kuusbkmrkletsd-control-toggle-open kuusbkmrkletsd-control"></span></div><h1 id="kuusbkmrkletsd-title">Bookmarklet</h1></div><div id="kuusbkmrkletsd-container"><div id="kuusbkmrkletsd-iframe-wrap" class="kuusbkmrkletsd-cover"><iframe id="kuusbkmrkletsd-iframe-app" name="kuusbkmrkletsd-iframe-app" src="javascript:false;" scrolling="0" frameborder="0" sandbox="allow-scripts allow-same-origin" seamless=""></iframe><div id="kuusbkmrkletsd-iframe-overlay" class="kuusbkmrkletsd-cover"></div></div></div></div>',D='#kuusbkmrkletsd-cage{z-index:-1;position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none}#kuusbkmrkletsd-wrapper{z-index:9999999999;position:fixed!important;top:0;left:0;width:350px;height:100%;-webkit-transition:opacity .3s ease;transition:opacity .3s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #b3b3b3!important;background:#fff;-webkit-box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21);box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}#kuusbkmrkletsd-header{z-index:1;position:relative;height:30px;border-bottom:1px solid #e0e0e0;background:#ededed;-webkit-box-shadow:0 0 10px rgba(0,0,0,.04);box-shadow:0 0 10px rgba(0,0,0,.04);cursor:move;cursor:drag;cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing}#kuusbkmrkletsd-title{float:none;margin:0;padding:5px;line-height:20px;border:0;white-space:nowrap;overflow:hidden;color:#666;text-overflow:ellipsis;text-align:left;text-transform:uppercase;font-family:"Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif!important;font-size:13px;font-weight:100;letter-spacing:0}#kuusbkmrkletsd-controls{float:right}#kuusbkmrkletsd-container{position:absolute;top:30px;bottom:0;left:0;width:100%}#kuusbkmrkletsd-iframe-wrap{position:relative}#kuusbkmrkletsd-iframe-app{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;border:0!important;padding:0!important;max-width:none!important}#kuusbkmrkletsd-iframe-overlay{display:none;position:absolute;opacity:0}.kuusbkmrkletsd-cover{top:0;left:0;width:100%;height:100%}.kuusbkmrkletsd-control{display:block;float:right;width:30px;height:29px;line-height:30px;background:#ededed;color:#666;text-align:center;font-size:16px;font-family:"Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif!important;font-weight:100;cursor:pointer}.kuusbkmrkletsd-control:hover{z-index:1;position:relative;background:#f0f0f0;color:#444;-webkit-box-shadow:0 0 30px rgba(0,0,0,.1);box-shadow:0 0 30px rgba(0,0,0,.1)}.kuusbkmrkletsd-control-toggle:before{content:"\\002B"}.kuusbkmrkletsd-control-toggle-open:before{content:"\\002D"}.ui-resizable,.ui-resizable-se{border:0!important}',C='<!doctype html><html><head><style>html{height:100%}body{margin:0;padding:0;font:13px/1.3 "Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif;text-align:center;color:#777}body,body:before{height:100%;vertical-align:middle}body:before{content:\'\';display:inline-block}h1{font-weight:100}a{text-decoration:none;color:#666;letter-spacing:0;-webkit-transition:letter-spacing .2s ease;transition:letter-spacing .2s ease}a:active,a:hover{text-decoration:underline;letter-spacing:3px;color:#666}.content{vertical-align:middle;display:inline-block;padding:15px}</style><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300"><title>Example app</title></head><body><div class="content"><h1>Just a sample app</h1><p>You can minimize me, resize me, and drag around (dragging the header on top). Take in consideration that here we are inside an iframe (\'without\' "src"), so I don\'t inherit css from the parent page.</p><img src="http://yeoman.io/assets/img/yeoman-003.29e3.png" width="200"><p>built by <a href="https://github.com/kuus">kuus</a></p></div><script>!function(o){var n=o.parent;o.parent.document,n.jQuery,console.log("ciao from your bookmarklet app")}(window);</script></body></html>',I=function(){this.initialize.apply(this,arguments)};I.prototype={initialize:function(){var t=this;this.active=!0,this.position={top:0,left:0},this.size={width:b,height:e.innerHeight},this.active=!1,this.createDom(),i(f.jquery.desired,function(){s(D),n(f.css),t.bindControls(),t.initInnerApp(),o(f.js,function(){t.initDrag()})})},createDom:function(){var e=t.createDocumentFragment();l=t.createElement("div"),l.id=y,l.innerHTML=B,e.appendChild(l),t.body.appendChild(e),this.assignDom()},assignDom:function(){d=t.getElementById(v),p=t.getElementById(z),u=t.getElementById(j),m=t.getElementById(T),h=t.getElementById(S),k=t.getElementById(E),c=t.getElementById(w)},initInnerApp:function(){var e=this;c.contentWindow.document.open(),c.contentWindow.document.write(C),c.contentWindow.document.close(),c.onload=function(){e.setTitle(c.contentDocument.title)}},setTitle:function(e){m.innerHTML=e},initDrag:function(){var e=this,t=this.size.width,i=function(){p.style.display="block"},o=function(t,i){e.position=i.position,e.size=i.size?i.size:e.size,p.style.display="none"};r(d).draggable({containment:"#"+x,scroll:!1,snap:"#"+x,snapTolerance:20,snapMode:"inner",opacity:.8,start:i,stop:o}).resizable({containment:"#"+x,maxWidth:768,minWidth:t,minHeight:u.offsetHeight,handles:"all",snap:"#"+x,snapTolerance:20,snapMode:"inner",start:i,stop:o}).on("DOMMouseScroll mousewheel",a)},bindControls:function(){r(h).on("click",r.proxy(this.destroy,this)),r(k).on("click",r.proxy(this.toggle,this)),r(u).on("dblclick",r.proxy(this.toggle,this))},toggle:function(e){var t=r(e.target);this.minimized?(d.style.width=this.size.width+"px",d.style.height=this.size.height+"px",t.addClass("kuusbkmrkletsd-control-toggle-open"),this.minimized=!1):(d.style.height=u.offsetHeight+"px",d.style.width=b+"px",t.removeClass("kuusbkmrkletsd-control-toggle-open"),this.minimized=!0)},destroy:function(){this.active=!1,l.parentNode.removeChild(l),e.kuusbkmrkletsd={},delete e.kuusbkmrkletsd}},e.kuusbkmrkletsd=new I}(window,document);