javascript:!function(e,t){function i(i,o){if("undefined"==typeof e.jQuery){var n=function(){e.jQuery?(r=e.jQuery,o()):e.setTimeout(function(){n()},100)},a=t.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){("loaded"==a.readyState||"complete"==a.readyState)&&(a.onreadystatechange=null,n())}:a.onload=function(){n()},a.src=i,t.getElementsByTagName("head")[0].appendChild(a)}else r=e.jQuery,o()}function o(e,t){for(var i=0,o=e.length,n=function(){i++,i===o&&t()},a=0;o>a;a++)r.getScript(e[a],n)}function n(e){for(var i=t.getElementsByTagName("head")[0],o=0,n=e.length;n>o;o++){var a=t.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e[o],i.appendChild(a)}}function a(e){var i=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o)}function s(e){var t=this.scrollTop,i=this.scrollHeight,o=this.offsetHeight,n=e.originalEvent.wheelDelta,a=n>0,s=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return!a&&-n>i-o-t?(this.scrollTop=i,s()):a&&n>t?(this.scrollTop=0,s()):void 0}var r,l,d,c,p,u,h,g,m,f="kuus",b=350,y={jquery:{min:">1.8",desired:"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"},js:["//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js","//rawgit.com/polomoshnov/jQuery-UI-Resizable-Snap-extension/master/jquery.ui.resizable.snap.ext.v1.9.min.js"],css:["//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css"]},x=f,k=f+"-cage",v=f+"-wrapper",w=f+"-iframe-app",z=f+"-iframe-overlay",j=f+"-header",S=f+"-title",T=f+"-control-close",E=f+"-control-toggle",B='<div id="kuus-cage"></div><div id="kuus-wrapper" class="kuus-cover"><div id="kuus-header"><div id="kuus-controls"><span id="kuus-control-close" class="kuus-control">&times;</span> <span id="kuus-control-toggle" class="kuus-control-toggle kuus-control-toggle-open kuus-control"></span></div><h1 id="kuus-title">Bookmarklet</h1></div><div id="kuus-container"><div id="kuus-iframe-wrap" class="kuus-cover"><iframe id="kuus-iframe-app" name="kuus-iframe-app" src="javascript:false;" scrolling="0" frameborder="0" sandbox="allow-scripts allow-same-origin" seamless=""></iframe><div id="kuus-iframe-overlay" class="kuus-cover"></div></div></div></div>',D='#kuus-cage{z-index:-1;position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none}#kuus-wrapper{z-index:9999999999;position:fixed!important;top:0;left:0;width:350px;height:100%;-webkit-transition:opacity .3s ease;transition:opacity .3s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #b3b3b3!important;background:#fff;-webkit-box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21);box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}#kuus-header{z-index:1;position:relative;height:30px;border-bottom:1px solid #e0e0e0;background:#ededed;-webkit-box-shadow:0 0 10px rgba(0,0,0,.04);box-shadow:0 0 10px rgba(0,0,0,.04);cursor:move;cursor:drag;cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing}#kuus-title{float:none;margin:0;padding:5px;line-height:20px;border:0;white-space:nowrap;overflow:hidden;color:#666;text-overflow:ellipsis;text-align:left;text-transform:uppercase;font-family:"Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif!important;font-size:13px;font-weight:100;letter-spacing:0}#kuus-controls{float:right}#kuus-container{position:absolute;top:30px;bottom:0;left:0;width:100%}#kuus-iframe-wrap{position:relative}#kuus-iframe-app{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;border:0!important;padding:0!important;max-width:none!important}#kuus-iframe-overlay{display:none;position:absolute;opacity:0}.kuus-cover{top:0;left:0;width:100%;height:100%}.kuus-control{display:block;float:right;width:30px;height:29px;line-height:30px;background:#ededed;color:#666;text-align:center;font-size:16px;font-family:"Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif!important;font-weight:100;cursor:pointer}.kuus-control:hover{z-index:1;position:relative;background:#f0f0f0;color:#444;-webkit-box-shadow:0 0 30px rgba(0,0,0,.1);box-shadow:0 0 30px rgba(0,0,0,.1)}.kuus-control-toggle:before{content:"\\002B"}.kuus-control-toggle-open:before{content:"\\002D"}.ui-resizable,.ui-resizable-se{border:0!important}',C='<!doctype html><html><head><style>html{height:100%}body{margin:0;padding:0;font:13px/1.3 "Open Sans","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif;text-align:center;color:#999}body,body:before{height:100%;vertical-align:middle}body:before{content:\'\';display:inline-block}h1{font-weight:100}a{text-decoration:none;color:#666;letter-spacing:0;-webkit-transition:letter-spacing .2s ease;transition:letter-spacing .2s ease}a:active,a:hover{text-decoration:underline;letter-spacing:3px;color:#666}.content{vertical-align:middle;display:inline-block}</style><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300"><title>Example app</title></head><body><div class="content"><h1>Just a sample app</h1><img src="http://yeoman.io/assets/img/yeoman-003.29e3.png" width="200"><p>built by <a href="https://github.com/kuus">kuus</a></p></div><script>!function(o){var n=o.parent;o.parent.document,n.jQuery,console.log("ciao from your bookmarklet app")}(window);</script></body></html>',L=function(){this.initialize.apply(this,arguments)};L.prototype={initialize:function(){var t=this;this.active=!0,this.position={top:0,left:0},this.size={width:b,height:e.innerHeight},this.active=!1,this.createDom(),i(y.jquery.desired,function(){a(D),n(y.css),t.bindControls(),t.initInnerApp(),o(y.js,function(){t.initDrag()})})},createDom:function(){var e=t.createDocumentFragment();l=t.createElement("div"),l.id=x,l.innerHTML=B,e.appendChild(l),t.body.appendChild(e),this.assignDom()},assignDom:function(){d=t.getElementById(v),p=t.getElementById(z),u=t.getElementById(j),h=t.getElementById(S),g=t.getElementById(T),m=t.getElementById(E),c=t.getElementById(w)},initInnerApp:function(){var e=this;c.contentWindow.document.open(),c.contentWindow.document.write(C),c.contentWindow.document.close(),c.onload=function(){e.setTitle(c.contentDocument.title)}},setTitle:function(e){h.innerHTML=e},initDrag:function(){var e=this,t=this.size.width,i=function(){p.style.display="block"},o=function(t,i){e.position=i.position,e.size=i.size?i.size:e.size,p.style.display="none"};r(d).draggable({containment:"#"+k,scroll:!1,snap:"#"+k,snapTolerance:20,snapMode:"inner",opacity:.8,start:i,stop:o}).resizable({containment:"#"+k,maxWidth:768,minWidth:t,minHeight:u.offsetHeight,handles:"all",snap:"#"+k,snapTolerance:20,snapMode:"inner",start:i,stop:o}).on("DOMMouseScroll mousewheel",s)},bindControls:function(){r(g).on("click",r.proxy(this.destroy,this)),r(m).on("click",r.proxy(this.toggle,this)),r(u).on("dblclick",r.proxy(this.toggle,this))},toggle:function(e){var t=r(e.target);this.minimized?(d.style.width=this.size.width+"px",d.style.height=this.size.height+"px",t.addClass("kuus-control-toggle-open"),this.minimized=!1):(d.style.height=u.offsetHeight+"px",d.style.width=b+"px",t.removeClass("kuus-control-toggle-open"),this.minimized=!0)},destroy:function(){this.active=!1,l.parentNode.removeChild(l),e.kuus={},delete e.kuus}},e.kuus=new L}(window,document);